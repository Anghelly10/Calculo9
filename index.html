<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Solucionador de Desigualdades</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      margin-top: 10px;
    }
    #resultado {
      margin-top: 20px;
      padding: 10px;
      background: #fff;
      border-radius: 5px;
      box-shadow: 0 0 5px #aaa;
    }
  </style>
</head>
<body>
  <h2>Resolver Desigualdades Lineales y Cuadráticas</h2>
  <input type="text" id="inputDesigualdad" placeholder="Ejemplo: x^2 - 4 < 0 o 2x - 3 >= 5">
  <button onclick="resolver()">Resolver</button>
  <div id="resultado"></div>

  <script>
    function resolver() {
      const input = document.getElementById("inputDesigualdad").value;
      const resultado = document.getElementById("resultado");

      try {
        // Detectar si es cuadrática
        if (input.includes("^2")) {
          resolverCuadratica(input);
        } else {
          resolverLineal(input);
        }
      } catch (e) {
        resultado.innerHTML = "⚠️ Error al analizar la desigualdad.";
      }
    }

    function resolverLineal(expresion) {
      const resultado = document.getElementById("resultado");
      const match = expresion.match(/([-+*/x\d\s.]+)(<=|>=|<|>)([-+*/x\d\s.]+)/);
      if (!match) {
        resultado.innerHTML = "Formato incorrecto.";
        return;
      }

      let izquierda = match[1].trim().replace(/x/g, "*x");
      let signo = match[2];
      let derecha = match[3].trim();

      resultado.innerHTML = `
        <b>Desigualdad lineal:</b> ${match[1]} ${signo} ${match[3]} <br>
        <b>Solución:</b> Despeja "x" como si fuera una ecuación. Usa álgebra básica.
        <br><br>
        <i>Este demo muestra el proceso, no hace álgebra simbólica completa.</i>
      `;
    }

    function resolverCuadratica(expresion) {
      const resultado = document.getElementById("resultado");
      const match = expresion.match(/([-+*/x\d\s^]+)(<=|>=|<|>)([-+*/x\d\s.]+)/);
      if (!match) {
        resultado.innerHTML = "Formato incorrecto.";
        return;
      }

      const ladoIzq = match[1].replace(/\s/g, "").replace(/x\^2/g, "a").replace(/x/g, "b");
      const signo = match[2];
      const ladoDer = parseFloat(match[3]);

      resultado.innerHTML = `
        <b>Desigualdad cuadrática:</b> ${match[1]} ${signo} ${match[3]} <br>
        <b>Pasos:</b>
        <ul>
          <li>Pasa todo al mismo lado: f(x) ${signo} 0</li>
          <li>Encuentra las raíces (usando la fórmula general si es necesario)</li>
          <li>Analiza el signo del trinomio en cada intervalo</li>
          <li>Usa el criterio del signo según el tipo de desigualdad</li>
        </ul>
        <i>Este script da orientación paso a paso. Si quieres automatizar cálculos exactos, necesitas una librería como Math.js</i>
      `;
    }
  </script>
</body>
</html>
